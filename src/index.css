@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  html,
  body,
  #root {
    height: 100%;
  }

  body {
    margin: 0;
    min-width: 320px;
    @apply bg-base-200 text-base-content;
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  button,
  input,
  textarea,
  select {
    font: inherit;
  }
}

@layer components {
  /* Make button hover states more noticeable across themes. */
  .btn {
    @apply transition-colors duration-150;
  }
  .btn:not(.btn-link):not(.btn-disabled):not([disabled]):hover {
    @apply shadow-sm;
    filter: brightness(1.08);
  }
  .btn.btn-outline:not(.btn-disabled):not([disabled]):hover {
    @apply bg-base-200 border-base-content/25;
    filter: none;
  }
  .btn.btn-ghost:not(.btn-disabled):not([disabled]):hover {
    @apply bg-base-200;
    filter: none;
  }

  /* Briefly highlight newly-added participant cards. */
  .participantFlash {
    animation: participantFlash 1200ms ease-out;
  }
  @keyframes participantFlash {
    0% {
      background-color: hsl(var(--p) / 0.12);
      border-color: hsl(var(--p) / 0.55);
      box-shadow: 0 0 0 0 hsl(var(--p) / 0.0);
    }
    35% {
      background-color: hsl(var(--p) / 0.08);
      border-color: hsl(var(--p) / 0.45);
      box-shadow: 0 0 0 4px hsl(var(--p) / 0.22);
    }
    100% {
      background-color: hsl(var(--b2));
      border-color: hsl(var(--b3));
      box-shadow: 0 0 0 0 hsl(var(--p) / 0.0);
    }
  }

  /* A sane default for chat markdown. */
  .markdownBody {
    @apply text-sm leading-relaxed;
  }
  .markdownBody a {
    @apply link link-primary;
  }
  .markdownBody pre {
    @apply rounded-box bg-base-300 border border-base-300 p-3 overflow-x-auto;
  }
  .markdownBody code {
    @apply font-mono text-[0.85em] bg-base-300 border border-base-300 px-1 py-0.5 rounded;
  }
  .markdownBody pre code {
    @apply bg-transparent border-0 p-0;
  }
  .markdownBody blockquote {
    @apply border-l-4 border-primary pl-3 opacity-80;
  }
  .markdownBody ul,
  .markdownBody ol {
    @apply pl-5;
  }
}
